<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1" name=viewport> <meta content=#333333 name=theme-color> <meta content=Mrn4dXO3Z_939geeswIgr2wIpspT6n7X5cX1Tjp69Ko name=google-site-verification> <base href=/ > <link href=global.css rel=stylesheet> <link href=manifest.json rel=manifest crossorigin=use-credentials> <link href=favicon.png rel=icon type=image/png> <link href=atom-one-light.min.css rel=stylesheet> <link href=client/client-87ec37cb.css rel=stylesheet><link href=client/[slug]-2cfb82a0.css rel=stylesheet> <title>为node应用增加hot reload-GzhiYi's blog</title><meta content=express或者koa增加hotreload已提高开发体验。怎么开启hotreload呢？怎么在node应用中开启hotreload？ name=description data-svelte=svelte-2vncnt><meta content=node,hotreload,express,koa,nodemon name=keywords data-svelte=svelte-2vncnt> <link href=/client/client.e0961b94.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/client-87ec37cb.css rel=preload as=style><link href=/client/[slug].13458e28.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/config.026ad977.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/inject_styles.5607aec6.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/[slug]-2cfb82a0.css rel=preload as=style></head> <body> <div id=sapper> <nav class=svelte-1vrbr95><ul class=svelte-1vrbr95><li class=svelte-1vrbr95><a href=blog aria-current=page class=svelte-1vrbr95 rel=prefetch>文章列表</a></ul></nav> <div style=width:100%;height:56px;background-color:#dee2e8></div> <main class=svelte-1ca6gui style=padding:1rem> <div class="svelte-vusc9 base"><div class="svelte-vusc9 title">为node应用增加hot reload</div> <span class="svelte-vusc9 author">GzhiYi · 2021-08-17</span> <div class=label>node</div></div> <div class="svelte-vusc9 content"><p><div style=text-align:center><img align=center alt=nodemon data-zoomable src=https://i.loli.net/2021/08/17/24wim8VqIhJK3kg.png style=width:-webkit-fill-available;margin-bottom:20px;border-radius:8px;background:#f8fdf3></div> <p></p> <p>起了一个express应用，初期基本上都是修改一处，随后ctrl + c后再run，等应用稍微大一些些的时候，会被反复的重启应用影响开发效率。</p> <p>上面就是热更新（hot reload）解决的最大的痛点。</p> <h3 id=使用nodemon进行热更新>使用nodemon进行热更新</h3> <p><a href=https://nodemon.io/ target=_blank>nodemon</a>可以在node应用中一旦有任何代码上的改动都会重新启动你的应用。推荐在项目内添加而不是全局使用。</p> <p>在项目中：</p> <pre><code class=language-shell>yarn <span class=hljs-built_in>add</span> nodemon <span class=hljs-comment>--dev</span>
</code></pre> <p>在package中的script脚本，替换原有的node启动命令为：</p> <pre><code class=language-json>{
  <span class=hljs-attr>"scripts"</span>: {
    <span class=hljs-attr>"dev"</span>: <span class=hljs-string>"nodemon index.js"</span>
  }
}
</code></pre> <p>随后就可以通过<code>yarn run dev</code>的方式运行带有hotreload的node应用了。</p> </div> <div class="svelte-vusc9 contact"><div style=line-height:20px>如果你对这页内容有疑问，欢迎联系我！</div> <a href="mailto:zhiyi.gong@outlook.com?subject=【重要】为node应用增加hot reload&body=gzhiyi.top/blog/2021_08_express-hot-reload" target=_blank>邮箱 </a> <br> <a href=https://github.com/gzhiyi target=_blank>github </a> </div> </main></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,null,{post:{title:"为node应用增加hot reload",description:"express或者koa增加hotreload已提高开发体验。怎么开启hotreload呢？怎么在node应用中开启hotreload？",keywords:"node,hotreload,express,koa,nodemon",labels:["node"],date:"2021-08-17",path:"2021\u002F08\u002Fexpress-hot-reload.md",slug:"2021_08_express-hot-reload",html:"\u003Cp\u003E\u003Cdiv style=\"text-align: center;\"\u003E\u003Cimg align=\"center\" style=\"width: -webkit-fill-available;margin-bottom: 20px;border-radius: 8px;background: #f8fdf3;\" data-zoomable src=\"https:\u002F\u002Fi.loli.net\u002F2021\u002F08\u002F17\u002F24wim8VqIhJK3kg.png\" alt=\"nodemon\" \u003E\u003C\u002Fdiv\u003E  \u003C\u002Fp\u003E\n\u003Cp\u003E起了一个express应用，初期基本上都是修改一处，随后ctrl + c后再run，等应用稍微大一些些的时候，会被反复的重启应用影响开发效率。\u003C\u002Fp\u003E\n\u003Cp\u003E上面就是热更新（hot reload）解决的最大的痛点。\u003C\u002Fp\u003E\n\u003Ch3 id=\"使用nodemon进行热更新\"\u003E使用nodemon进行热更新\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Ca target='_blank'  href=\"https:\u002F\u002Fnodemon.io\u002F\"\u003Enodemon\u003C\u002Fa\u003E可以在node应用中一旦有任何代码上的改动都会重新启动你的应用。推荐在项目内添加而不是全局使用。\u003C\u002Fp\u003E\n\u003Cp\u003E在项目中：\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-shell\"\u003Eyarn \u003Cspan class=\"hljs-built_in\"\u003Eadd\u003C\u002Fspan\u003E nodemon \u003Cspan class=\"hljs-comment\"\u003E--dev\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E在package中的script脚本，替换原有的node启动命令为：\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-json\"\u003E{\n  \u003Cspan class=\"hljs-attr\"\u003E&quot;scripts&quot;\u003C\u002Fspan\u003E: {\n    \u003Cspan class=\"hljs-attr\"\u003E&quot;dev&quot;\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;nodemon index.js&quot;\u003C\u002Fspan\u003E\n  }\n}\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E随后就可以通过\u003Ccode\u003Eyarn run dev\u003C\u002Fcode\u003E的方式运行带有hotreload的node应用了。\u003C\u002Fp\u003E\n"}}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');(function(){try{eval("async function x(){}");var main="/client/client.e0961b94.js"}catch(e){main="/client/legacy/client.c8e72cd1.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@2.0.4.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-170295070-1"></script> <script> window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-170295070-1'); </script> 