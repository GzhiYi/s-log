{"title":"为node应用增加hot reload","description":"express或者koa增加hotreload已提高开发体验。怎么开启hotreload呢？怎么在node应用中开启hotreload？","keywords":"node,hotreload,express,koa,nodemon","labels":["node"],"date":"2021-08-17","path":"2021/08/express-hot-reload.md","slug":"2021_08_express-hot-reload","html":"<p><div style=\"text-align: center;\"><img align=\"center\" style=\"width: -webkit-fill-available;margin-bottom: 20px;border-radius: 8px;background: #f8fdf3;\" data-zoomable src=\"https://i.loli.net/2021/08/17/24wim8VqIhJK3kg.png\" alt=\"nodemon\" ></div>  </p>\n<p>起了一个express应用，初期基本上都是修改一处，随后ctrl + c后再run，等应用稍微大一些些的时候，会被反复的重启应用影响开发效率。</p>\n<p>上面就是热更新（hot reload）解决的最大的痛点。</p>\n<h3 id=\"使用nodemon进行热更新\">使用nodemon进行热更新</h3>\n<p><a target='_blank'  href=\"https://nodemon.io/\">nodemon</a>可以在node应用中一旦有任何代码上的改动都会重新启动你的应用。推荐在项目内添加而不是全局使用。</p>\n<p>在项目中：</p>\n<pre><code class=\"language-shell\">yarn <span class=\"hljs-built_in\">add</span> nodemon <span class=\"hljs-comment\">--dev</span>\n</code></pre>\n<p>在package中的script脚本，替换原有的node启动命令为：</p>\n<pre><code class=\"language-json\">{\n  <span class=\"hljs-attr\">&quot;scripts&quot;</span>: {\n    <span class=\"hljs-attr\">&quot;dev&quot;</span>: <span class=\"hljs-string\">&quot;nodemon index.js&quot;</span>\n  }\n}\n</code></pre>\n<p>随后就可以通过<code>yarn run dev</code>的方式运行带有hotreload的node应用了。</p>\n"}